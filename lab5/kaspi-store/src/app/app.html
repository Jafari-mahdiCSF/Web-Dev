<div class="app-container">
  <header>
    <h1><i class="fas fa-store"></i> Kaspi Store</h1>
  </header>

  <div class="main-content">
    <aside class="categories-sidebar">
      <h2>Categories</h2>
      <div class="categories-list">
        @for (category of categories; track category.id) {
          <button
            class="category-btn"
            [class.active]="selectedCategory?.id === category.id"
            (click)="selectCategory(category)"
          >
            @if (category.id === 1) {
              <i class="fas fa-mobile-alt"></i>
            } @else if (category.id === 2) {
              <i class="fas fa-laptop"></i>
            } @else if (category.id === 3) {
              <i class="fas fa-headphones"></i>
            } @else if (category.id === 4) {
              <i class="fas fa-tablet-alt"></i>
            }
            {{ category.name }}
          </button>
        }
      </div>
    </aside>

    <main class="products-area">
      @if (selectedCategory) {
        <!-- Favorites Section -->
        <div class="favorites-section">
          <h2 class="favorites-title">‚≠ê Favorites ({{ favorites.length }})</h2>
          @if (favorites.length > 0) {
            <div class="products-grid">
              @for (product of favorites; track product.id) {
                <app-product-card
                  [product]="product"
                  (like)="onLikeProduct($event)"
                  (delete)="onDeleteProduct($event)"
                  (share)="onShareProduct($event)"
                  (favorite)="toggleFavorite($event)"
                />
              }
            </div>
          } @else {
            <p class="empty-favorites">No favorite products yet</p>
          }
        </div>

        <!-- Products List -->
        <app-product-list
          [products]="products"
          [categoryName]="selectedCategory.name"
          (deleteProduct)="onDeleteProduct($event)"
          (likeProduct)="onLikeProduct($event)"
          (shareProduct)="onShareProduct($event)"
          (favoriteProduct)="toggleFavorite($event)"
        />
      } @else {
        <div class="welcome-message">
          <h2>Welcome to Our Store!</h2>
          <p>Please select a category from the sidebar to start shopping.</p>
        </div>
      }
    </main>
  </div>
</div>
